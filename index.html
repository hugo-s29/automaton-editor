<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Automaton Editor</title>
    <link rel="stylesheet" href="/src/style.css" />
  </head>
  <body>
    <h1>Ã‰diteur dâ€™automates</h1>
    <nav>
      <button id="btn-state">
        <svg width="50" height="50">
          <circle
            cx="50%"
            cy="50%"
            r="20"
            stroke="#575279"
            fill="none"
            stroke-width="2"
          />
          <text x="48%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="#575279">
            ğ‘
          </text>
        </svg>
      </button>
      <button id="btn-transition">
        <svg width="50" height="50">
          <defs>
            <marker
              id="arrowhead"
              markerWidth="8"
              markerHeight="6"
              refX="0"
              refY="3"
              orient="auto"
              markerUnits="strokeWidth"
              fill="#575279"
            >
              <polygon points="0.5 0.5, 7.5 2.5, 0.5 5" />
            </marker>
          </defs>
          <text x="48%" y="40%" dominant-baseline="middle" text-anchor="middle" fill="#575279">
            ğšŠ
          </text>
          <line
            x1="5%"
            x2="60%"
            y1="66%"
            y2="66%"
            stroke="#575279"
            marker-end="url(#arrowhead)"
            stroke-width="2.5"
          />
        </svg>
      </button>
      <span class="spacer">â‹…</span>
      <button id="btn-rm-eps">ğ—‹ğ—†<sub>ğœ€</sub></button>
      <button id="btn-det">ğ–½ğ–¾ğ—</button>
      <button id="btn-comp">ğ–¼ğ—ˆğ—†ğ—‰</button>
      <span class="spacer">â‹…</span>
      <button id="btn-get-lang">â†“<br>Reg</button>
      <button id="btn-from-lang">â†‘<br>Reg</button>
      <button id="btn-in-lang">âˆˆ â„’</button>
    </nav>
    <div id="display"></div>
    <div id="container"></div>
    <div class="context-menu context-menu-normal">
      <button id="btn-clear">TOUT SUPPRIMER</button>
      <button id="btn-undo">ANNULER</button>
      <button id="btn-redo">REFAIRE</button>
    </div>
    <div class="context-menu context-menu-state">
      <button id="btn-mk-init">INITIAL</button>
      <button id="btn-mk-final">FINAL</button>
      <button id="btn-del-state">SUPPRIMER</button>
    </div>
    <div class="context-menu context-menu-transition">
      <button id="btn-rename-label">RENOMMER</button>
      <button id="btn-del-transition">SUPPRIMER</button>
    </div>
    <br/>
    <h1>Documentation</h1>
    <main>
      <p>
        Cet outil sert Ã  la manipulation dâ€™automates : dÃ©terminisation,
        rÃ©duction, suppression des
        <span class="unbreakable"><span class="math">ğœ€</span>-transitions</span
        >, calcul dâ€™expression rÃ©guliÃ¨res Ã©quivalentes... Le but de cet outil
        est de pouvoir <i>vÃ©rifier</i> ses rÃ©ponses, et non de les
        <i>trouver</i>.
        Vous pouvez vous dÃ©placer sur lâ€™interface, et <i>dÃ©zoomer</i> au besoin, si vous rÃ©alisez des automates ayant un grand nombre dâ€™Ã©tats.
      </p>
      <p>
        Lâ€™Ã©diteur dâ€™automates a deux â€œmodesâ€ : ajout dâ€™Ã©tat ou ajout de
        transitions. Les deux premiers boutons du menu permettent de passer
        respectivement au mode â€œajout dâ€™Ã©tatsâ€ et â€œajout de transitions.â€
      </p>
      <p>
        En mode <b>ajout dâ€™Ã©tat</b>, un <i>double-click</i> permet dâ€™ajouter un
        Ã©tat. Les Ã©tats sont automatiquement numÃ©rotÃ©s. Un <i>click</i> sur un
        Ã©tat lui fera changer de type dâ€™Ã©tat : Ã©tat normal, Ã©tat initial
        (bordure grasse), Ã©tat final (double bordure). Les Ã©tats peuvent Ãªtre
        dÃ©placÃ©s.
      </p>
      <p>
        En mode <b>ajout de transitions</b>, un <i>click</i> dÃ©finit lâ€™Ã©tat de dÃ©part de la transition,
        puis un second <i>click</i> dÃ©finit lâ€™Ã©tat dâ€™arrivÃ©e de la transition.
        Lâ€™Ã©tiquette de la transition est ensuite demandÃ©e.
        Pour obtenir une transition qui â€œboucleâ€ sur un Ã©tat, il suffit de faire un <i>double-click</i> sur lâ€™Ã©tat concernÃ©.
        Pour obtenir une 
        <span class="unbreakable"><span class="math">ğœ€</span>-transition</span>,
        il suffit dâ€™entrer le caractÃ¨re â€˜<span class="tt">&</span>â€™ comme Ã©tiquette de transition.
        Les transitions sont automatiquement regroupÃ©es si elles ont mÃªmes Ã©tats de dÃ©part et dâ€™arrivÃ©e, et les Ã©tiquettes sont affichÃ©es sÃ©parÃ©es par des virgules.
      </p>
      <p>
        Les autres boutons permettent la manipulation dâ€™automates.
        Attention : les Ã©tats peuvent changer de place (et mÃªme de nom dans le cas de la dÃ©terminisation) aprÃ¨s la manipulation.

        <ul>
          <li>
            Lâ€™action â€œ<span class="math unbreakable">ğ—‹ğ—†<sub>ğœ€</sub></span>â€ supprime les <span class="unbreakable"><span class="math">ğœ€</span>-transitions</span> de lâ€™automate, en conservant le mÃªme langage.
          </li>
          <li>
            Lâ€™action â€œ<span class="math unbreakable">ğ–½ğ–¾ğ—</span>â€ dÃ©terminise lâ€™automate. Lâ€™automate est automatiquement rÃ©duit aprÃ¨s la dÃ©terminisation en utilisant lâ€™algorithme de Brzozowski.
          </li>
          <li>
            Lâ€™action â€œ<span class="math unbreakable">ğ–¼ğ—ˆğ—†ğ—‰</span>â€ complÃ¨te lâ€™automate en ajoutant un Ã©tat â€œpoubelle.â€
          </li>
        </ul>
      </p>
      <p>
        Les actions suivantes opÃ¨rent sur les langages des automates, et les expressions rÃ©guliÃ¨res.
        <ul>
          <li>
            Lâ€™action â€œ<span class="math unbreakable">â†’ Reg</span>â€ dÃ©termine une expression rÃ©guliÃ¨re ayant mÃªme langage que lâ€™automate, par Ã©limination dâ€™Ã©tats.
          </li>
          <li>
            Lâ€™action â€œ<span class="math unbreakable">â† Reg</span>â€ crÃ©e un automate Ã  partir dâ€™une expression rÃ©guliÃ¨re, par la construction de Thompson.
          </li>
          <li>
            Lâ€™action â€œ<span class="math unbreakable">âˆˆ â„’</span>â€ teste lâ€™appartenance dâ€™un mot <span class="math unbreakable">ğ‘¤</span> dans le langage de lâ€™automate.
          </li>
        </ul>
      </p>

      <p>
        Des menus contextuels (ouverts avec un <i>click</i> droit) permettent de rÃ©aliser plus dâ€™actions.
        Ces menus diffÃ¨rent en fonction de l'objet sÃ©lectionnÃ© (transition, Ã©tat, ou aucun objet).

        <ul>
          <li>
            En sÃ©lectionnant un Ã©tat, on peut le supprimer, les transitions entrantes et sortantes sont Ã©galement supprimÃ©es.
            On peut Ã©galement le transformer en Ã©tat final ou initial, ces actions fonctionnent en â€œ<i>toggle</i>â€ : lâ€™action â€œpasser en finalâ€ transformera un Ã©tat final en Ã©tat normal, et de mÃªme pour lâ€™action â€œpasser en initial.â€
          </li>
          <li>
            En sÃ©lectionnant une transition, on peut la supprimer, ou changer son Ã©tiquette.
            La supprimer ne supprimera pas les Ã©tats associÃ©s.
          </li>
          <li>
            En ne sÃ©lectionnant aucun objet, on peut supprimer tous les Ã©tats et transitions, annuler la derniÃ¨re action ou la refaire.
          </li>
        </ul>
      </p>

      <p>
        Des raccourcis claviers permettent de rÃ©aliser certaines tÃ¢ches plus facilement.
        Pour passer en mode â€œajout dâ€™Ã©tat,â€ on peut appuyer sur â€˜<span class="tt">s</span>.â€™
        Pour passer en mode â€œajout de transitions,â€ on peut appuyer sur â€˜<span class="tt">t</span>.â€™

        Pour annuler la derniÃ¨re action, on peut appuyer sur â€˜<span class="tt">Ctrl+Z</span>.â€™
        Pour refaire la derniÃ¨re action annulÃ©e, on peut appuyer sur â€˜<span class="tt">Ctrl+Shift+Z</span>â€™ ou â€˜<span class="tt">Ctrl+Y</span>.â€™
      </p>

      <p>
        Lâ€™agencement des automates est rÃ©alisÃ© automatiquement en utilisant un modÃ¨le basÃ© sur la loi de Hooke (pour les transitions), la loi de Coulomb (pour les Ã©tats) et des frottements pour la convergence des positions.
        Lâ€™agencement obtenu nâ€™est pas idÃ©al, mais il est gÃ©nÃ©ralement <i>bien mieux</i> que celui obtenu en plaÃ§ant les nÅ“uds sur une grille ou sur un cercle.
      </p>

      <p>
        Ce projet a Ã©tÃ© rÃ©alisÃ© dans le cadre du soutien en informatique en prÃ©pa <span class="math unbreakable">MPI<sup>(â‹†|ğœ€)</sup></span>
        par Hugo SALOU.
        En cas de <i>bug</i>, merci de me contacter via Discord (<i>username</i> : <span class="tt unbreakable">hugos29</span>).
      </p>
    </main>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
